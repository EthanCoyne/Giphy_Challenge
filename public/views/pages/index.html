<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>GIF Getter Gala</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src="vendor/angular-route.min.js" charset="utf-8"></script>
    <script src="/scripts/client.js"></script>
    <script src="/scripts/giphy-service.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="/views/css/mystyle.css">
    <base href="/">
  </head>
  <body ng-app="giphyApp">
    <main ng-controller="giphyController as giphyCtrl">
      <h1>GIFS!</h1>

      <button ng-click="giphyCtrl.randomGIF()">Random!</button><br/>
      <img ng-show="giphyCtrl.randomImageURL" ng-src="{{giphyCtrl.randomImageURL}}" alt="A Random Gif">

      <form name="searchForm">
        <input type="text" ng-model="giphyCtrl.searchTerm" placeholder="search term" ng-focus="highlight=true" ng-blur="highlight=false" required/>
        <button ng-disabled="searchForm.$invalid" ng-click="giphyCtrl.searchGIF(giphyCtrl.searchTerm)" ng-class="{'highlightBad':highlight==true && searchForm.$invalid,'highlightGood':highlight==true && searchForm.$valid, 'normal':highlight==false}">Search!</button>
      </form>
      <p class="invalid" ng-show="searchForm.$invalid && highlight==true">
        Search for a GIF!!
      </p>
      <ul>
      <li ng-repeat="gifs in giphyCtrl.searchImageURL" ng-show="giphyCtrl.searchImageURL"  alt="searched Gif">
        <img ng-src="{{gifs.images.original.url}}" alt=""><br />
        <input class="favoriteForm" id="$index" data-id="$index" ng-model="giphyCtrl.favoriteComment" placeholder="Why do you love this GIF?"><br />
        <button data-id=$index>Favorite this GIF</button>
      </li>
      </ul>
    </main>
  </body>
</html>
